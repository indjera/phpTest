<!DOCTYPE html>
<html>
    <head>
        <title>
            Some PHP page
        </title>
		<meta http-equiv = "content-type" content = "text/html; charset = UTF-8" />
        <script type="text/javascript" src="js/jquery-2.0.1.min.js"></script>
        <script type="text/javascript" src="js/underscore-min.js"></script>
        <script type="text/javascript" src="js/VModel.js"></script>
        <script type="text/javascript" src="js/knockout-2.2.1.js"></script>
        <script type="text/javascript" src="js/knockout.mapping.js"></script>
        <script type="text/javascript" src="js/menu.js"></script>
        <link rel="stylesheet" type="text/css" href="css/general.css"/>
    </head>
    <body>
        <div class="wrapper">
            <header class="page-title">
                Bug Tracking System
            </header>
            <nav >
                <ul id="vivev" class="clearfix horizontal-menu" data-bind="foreach: getHorisontalItem">
                    <li data-bind="click: $root.getVerticalItems,text: $data"></li>
                </ul>
            </nav>
            <section class="clearfix central-content">
                <header>
                </header>
				<nav class=" left-navigation">
				  <ul data-bind="foreach: verticalMenu">
				     <li ><a href="#" data-bind=" text: $data.name ,attr:{id: 'ver' +  $data.id }"></a></li>
				  </ul>
				</nav>
                <article class="article-content">
                    <!--<table>
                        <tbody data-bind="foreach: competitors">
                            <tr>
                                <td width="100" data-bind="text: $data.name"></td>
                                <td width="100" data-bind="text: $data.id"></td>
                                <td data-bind="text: $data.sex"></td>
                                <td><a href="#" data-bind="click: $root.removeEl">Remove</a></td>
                            </tr>
                            <tr data-bind="foreach:{ data:$root.horisontalMenu, as: 'item' } ">
                                <td data-bind="text:item,click:$root.removeEl"></td>
                            </tr>
                        </tbody>
                    </table>-->
                    <table>
                        <tbody data-bind="foreach:$root.discipline">
                            <tr data-bind="text:$data"></tr>
                        </tbody>
                    </table>
                    <input type="button" value="submit"  data-bind=" event: { click: function (data, ev) { getAlert(data, ev); alert(12);}}" />
                </article>
            </section>
        </div>
		<script>
		    $(document).ready(function () {
		        var vModel = new VModel(function (vm) {
		            vm.verticalMenu = ko.observableArray([]);

		            vm.getHorisontalItem = ko.computed(function () {
		                var arr = $.map(menuList, function (v, k) { return k; });
		                return arr;
		            });

		            vm.getDiscipline = function () {
		                vm.invokeWebService("disciplineBL.php?func=GetAll", {}, function (result) {
		                    vm.verticalMenu(result);
		                });
		            }

		            vm.getDiscipline();

		            vm.getVerticalItems = function (data, ev) {
		                $(".horizontal-menu li").removeClass();
		                $(ev.target).addClass("selected-item");
		                if (data) {
		                    vm.verticalMenu(menuList[data]);
		                }
		            }

		            vm.bind();
		        });
		    });
		</script>
    </body>
</html>